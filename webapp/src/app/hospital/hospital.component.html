<br/>
<div class="container">

  <div class="row">
    <div class="col-xs-12">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title pull-left">Doctor details</h3>
          <img *ngIf="!docInfo" class="pull-right" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
          <i *ngIf="docInfo" class="glyphicon glyphicon-circle-arrow-{{arrowSignDoc}} pull-right" data-target="#docDetails" data-toggle="collapse" (click)='arrowSignDoc = (arrowSignDoc=="down"?"up":"down")'></i>
          <div class="clearfix"></div>
        </div>
        <div *ngIf='docInfo' class="panel-body collapse paddingStyle" id="docDetails" >
          <div class="container">
              <div class="row">
                <div class="col-xs-3">
                    <img src="./assets/Doctor{{docInfo.HospId}}.JPG" class="img-responsive img-rounded"/>
                </div><!--panel body col 1-->
                <div class="col-xs-9">
                    <table class="table table-hover  table-condensed">
                      <tr class="info">
                        <td colspan="3">
                            <b>{{'Dr.' + docInfo.FirstName + ' ' + docInfo.LastName}}</b>
                            <sub>{{' '+docInfo.Specialty}}</sub>
                        </td>
                      </tr>
                      <tr>
                        <td>Email</td>
                        <td>:</td>
                        <td>{{docInfo.Email}}</td>
                      </tr>
                      <tr>
                        <td>Phone</td>
                        <td>:</td>
                        <td>{{docInfo.Phone}}</td>
                      </tr>
                      <tr>
                        <td>Fee</td>
                        <td>:</td>
                        <td>&#8377;{{' ' + docInfo.Fee}}</td>
                      </tr>
                      <tr>
                        <td>Experience</td>
                        <td>:</td>
                        <td>{{docInfo.Experience}}</td>
                      </tr>
                    </table>
                </div><!--panel body col 2-->
              </div><!--panel body row-->
            </div> <!--panel body container-->
        </div>
      </div>
    </div>
  </div>


  <div class="row ">
    <div class="col-xs-12">
      <div class="panel panel-success">
        <div class="panel-heading panel-hospital_heading">
          <h3 class="panel-title pull-left">Hospital details</h3>
          <img *ngIf="!hospInfo" class="pull-right" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
          <i *ngIf="hospInfo" class="glyphicon glyphicon-circle-arrow-{{arrowSignHosp}} pull-right" data-target="#hospDetails" data-toggle="collapse" (click)='arrowSignHosp = (arrowSignHosp=="down"?"up":"down")'></i>
          <div class="clearfix"></div>
        </div>
        <div *ngIf='hospInfo' class="panel-body collapse paddingStyle" id="hospDetails">
          <div class="container">
            <div class="row">
              <div class="col-xs-3">
                <img src="./assets/Hospital{{hospInfo.HospId}}.JPG" class="img-responsive img-rounded"/>
              </div>
              <div class="col-xs-9">
                <table class="table table-hover table-condensed">
                  <tr class="success">
                    <td colspan="2">
                        <b>{{hospInfo.Name}}</b>
                    </td>
                  </tr>
                  <tr>
                    <td>Address</td>
                    <td>
                      {{hospInfo.Address1 + ', ' + hospInfo.Address2}}<br/>
                      {{hospInfo.City + ', ' + hospInfo.State + ', ' +hospInfo.Zip+ ', ' + hospInfo.Country}}<br/>
                    </td>
                  </tr>
                  <tr>
                    <td>Phone</td>
                    <td>
                      {{hospInfo.Phone1}}<br/>
                      {{hospInfo.Phone2}}
                    </td>
                  </tr>
                  <tr *ngIf='hospInfo.Email'>
                    <td>Email</td>
                    <td>{{hospInfo.Email}}</td>
                  </tr>
                  <tr *ngIf='hospInfo.WebSite'>
                    <td>Website</td>
                    <td>{{hospInfo.WebSite}}</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="row">
    <div class="col-xs-12">
      <div class="panel panel-warning">
        <div class="panel-heading panel-appt_heading">
          <h3 class="panel-title pull-left">Appointment details</h3>
          <i class="glyphicon glyphicon-circle-arrow-{{arrowSignAppt}} pull-right" data-target="#apptDetails" data-toggle="collapse" (click)='arrowSignAppt = (arrowSignAppt=="down"?"up":"down")'></i>
          <div class="clearfix"></div>
        </div>
        <div class="panel-body collapse in" id="apptDetails" style="padding: 0%">

            <div class="container">
              <div class="row">
                <div class="col-xs-12">
                  <!-- Show "Take appointment" button -->
                  <div *ngIf='divStatus == "showButton"' class="text-center"> 
                      <button class="btn btn-warning" (click)="takeAppointment()">Set Appointment</button> 
                      <br/><br/>
                      <div *ngIf='showError' class="alert alert-warning alert-dismissable panel-appt_heading_light" style="color:white" >
                        <a class="close" (click)='showError = false'>&times;</a>
                        Please login to take appointment
                      </div>
                  </div>

                  <!-- Show "Take appointment" Form -->
                  <div *ngIf='divStatus == "showForm"'>
                    <app-appointment [apptInfo]='apptInfo' (FormButtonClicked)='apptStatusChanges($event)'></app-appointment>
                  </div>

                  <!-- Show "appointment details" -->
                  <table *ngIf='divStatus == "showDetails"' class="table table-hover table-condensed" style="margin-bottom: 0%">
                      <tr class="panel-appt_heading_light" *ngIf='docInfo'>
                        <td colspan="2">
                            <b>Appointment with {{'Dr.' + docInfo.FirstName + ' ' + docInfo.LastName}}</b>
                        </td>
                      </tr>
                      <tr>
                          <td><strong>Patient Name</strong></td>
                          <td>{{apptInfo.Name}}</td>
                        </tr>
                      <tr>
                        <td><strong>Age</strong></td>
                        <td>{{apptInfo.Age}}</td>
                      </tr>
                      <tr>
                        <td><strong>Gender</strong></td>
                        <td>{{apptInfo.Gender}}</td>
                      </tr>
                      <tr>
                        <td><strong>Token number</strong></td>
                        <td>{{apptInfo.ApptID}}</td>
                      </tr>

                      <tr>
                        <td><strong>Requested Time</strong></td>
                        <td>{{apptInfo.ApptTime}}</td>
                      </tr>

                      <td colspan="2" style="padding: 5px">
                          <button class="btn btn-warning" (click)="divStatus = 'showForm'" >&nbsp;&nbsp;&nbsp;Edit&nbsp;&nbsp;&nbsp;</button>
                          <button class="btn btn-warning pull-right" data-toggle="modal" data-target="#modelCancelAppt">Cancel Appointent</button>
                      </td>
                    </table>
                </div>
              </div>
            </div>
        </div>
        <div class="panel-footer">
          <div *ngIf='docQSts'>
            <span>People in Q : {{docQSts.QCnt}}</span>
            <span class="pull-right">Waiting time : {{docQSts.WaitTime}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  
</div>

<div id="modelCancelAppt" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title text-warning">Appointment</h4>
          </div>
          <div class="modal-body">
              Cancel appointment?
          </div>
          <div class="modal-footer">
              <div class="form-group">
                  <button [disabled]="loading" class="btn btn-warning pull-left" (click)='cancelAppointment()'>Yes</button>
                  <img *ngIf="loading" class="pull-left" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                  <button id="btnCancel" type="button" class="btn btn-warning pull-right" data-dismiss="modal">Dismiss</button>
              </div>
          </div>
        </div>
    </div>
</div>